{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"3\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $data.search.cpf,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search.cpf = $event),\n          label: \"CPF\",\n          outlined: \"\",\n          dense: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"3\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $data.search.name,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.search.name = $event),\n          label: \"Nome\",\n          outlined: \"\",\n          dense: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"3\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $data.search.phone,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.search.phone = $event),\n          label: \"Telefone\",\n          outlined: \"\",\n          dense: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"3\",\n        class: \"d-flex align-center justify-space-between\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_btn, {\n          color: \"primary\",\n          class: \"mr-2\",\n          onClick: $options.fetchResults\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Buscar\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n          color: \"secondary\",\n          onClick: _cache[3] || (_cache[3] = $event => _ctx.$router.push('/create'))\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"+ Adicionar Registro\")]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_data_table, {\n          headers: $data.headers,\n          items: $data.records,\n          \"item-key\": \"id\",\n          class: \"elevation-1\",\n          \"onClick:row\": $options.openDetails,\n          \"footer-props\": {\n            'items-per-page-options': [5, 10, 15, -1],\n            'items-per-page-text': 'Itens por página'\n          }\n        }, {\n          item: _withCtx(({\n            item\n          }) => [_createElementVNode(\"tr\", {\n            onClick: $event => $options.openDetails(item)\n          }, [_createElementVNode(\"td\", null, _toDisplayString(item.cpf), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.phone), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatAddress(item.addresses, 'residencial')), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatAddress(item.addresses, 'comercial')), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createVNode(_component_v_btn, {\n            color: \"info\",\n            onClick: _withModifiers($event => $options.openDetails(item), [\"stop\"])\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Detalhes\")]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n            color: \"success\",\n            onClick: _withModifiers($event => $options.openAddAddress(item), [\"stop\"])\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Adicionar Endereço\")]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])], 8 /* PROPS */, _hoisted_1)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"headers\", \"items\", \"onClick:row\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), $data.errorMessage ? (_openBlock(), _createBlock(_component_v_alert, {\n      key: 0,\n      type: \"error\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.errorMessage), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_row","_component_v_col","cols","md","_component_v_text_field","modelValue","$data","search","cpf","_cache","$event","label","outlined","dense","_","name","phone","class","_component_v_btn","color","onClick","$options","fetchResults","_createTextVNode","_ctx","$router","push","_component_v_data_table","headers","items","records","openDetails","item","_createElementVNode","_toDisplayString","formatAddress","addresses","_withModifiers","openAddAddress","_hoisted_1","errorMessage","_component_v_alert","key","type","_createCommentVNode"],"sources":["C:\\Users\\Davi\\PRODEMGE1\\frontend\\src\\components\\SearchPage.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col cols=\"12\" md=\"3\">\r\n        <v-text-field v-model=\"search.cpf\" label=\"CPF\" outlined dense></v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"3\">\r\n        <v-text-field v-model=\"search.name\" label=\"Nome\" outlined dense></v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"3\">\r\n        <v-text-field v-model=\"search.phone\" label=\"Telefone\" outlined dense></v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"3\" class=\"d-flex align-center justify-space-between\">\r\n        <v-btn color=\"primary\" class=\"mr-2\" @click=\"fetchResults\">Buscar</v-btn>\r\n        <v-btn color=\"secondary\" @click=\"$router.push('/create')\">+ Adicionar Registro</v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <v-data-table\r\n          :headers=\"headers\"\r\n          :items=\"records\"\r\n          item-key=\"id\"\r\n          class=\"elevation-1\"\r\n          @click:row=\"openDetails\"\r\n          :footer-props=\"{\r\n            'items-per-page-options': [5, 10, 15, -1],\r\n            'items-per-page-text': 'Itens por página',\r\n          }\"\r\n        >\r\n          <template v-slot:item=\"{ item }\">\r\n            <tr @click=\"openDetails(item)\">\r\n              <td>{{ item.cpf }}</td>\r\n              <td>{{ item.name }}</td>\r\n              <td>{{ item.phone }}</td>\r\n              <td>{{ formatAddress(item.addresses, 'residencial') }}</td>\r\n              <td>{{ formatAddress(item.addresses, 'comercial') }}</td>\r\n              <td>\r\n                <v-btn color=\"info\" @click.stop=\"openDetails(item)\">Detalhes</v-btn>\r\n                <v-btn color=\"success\" @click.stop=\"openAddAddress(item)\">Adicionar Endereço</v-btn>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </v-data-table>\r\n      </v-col>\r\n    </v-row>\r\n    <v-alert v-if=\"errorMessage\" type=\"error\">{{ errorMessage }}</v-alert>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      search: {\r\n        cpf: '',\r\n        name: '',\r\n        phone: ''\r\n      },\r\n      records: [],\r\n      errorMessage: '',\r\n      headers: [\r\n        { text: 'CPF', value: 'cpf' },\r\n        { text: 'Nome', value: 'name' },\r\n        { text: 'Telefone', value: 'phone' },\r\n        { text: 'Endereço Residencial', value: 'residential_address', sortable: false },\r\n        { text: 'Endereço Comercial', value: 'commercial_address', sortable: false },\r\n        { text: 'Ações', value: 'actions', sortable: false },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchResults() {\r\n      axios.get('/registrations', { params: this.search })\r\n        .then(response => {\r\n          this.records = response.data.data;\r\n          this.errorMessage = '';\r\n        })\r\n        .catch(error => {\r\n          this.errorMessage = 'Erro ao buscar registros: ' + (error.response ? error.response.data.message : error.message);\r\n        });\r\n    },\r\n    formatAddress(addresses, type) {\r\n      const address = addresses.find(addr => addr.type === type);\r\n      return address ? `${address.street}, ${address.number}${address.complement ? ', ' + address.complement : ''} - ${address.neighborhood}, ${address.city} - ${address.state}` : 'N/A';\r\n    },\r\n    openDetails(item) {\r\n      this.$router.push({ name: 'DetailPage', params: { id: item.id } });\r\n    },\r\n    openAddAddress() {\r\n      // Implementar lógica para abrir a página de adicionar endereço\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchResults(); // Carregar registros ao montar o componente\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* Estilos adicionais, se necessário */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      search: {\n        cpf: '',\n        name: '',\n        phone: ''\n      },\n      records: [],\n      errorMessage: '',\n      headers: [{\n        text: 'CPF',\n        value: 'cpf'\n      }, {\n        text: 'Nome',\n        value: 'name'\n      }, {\n        text: 'Telefone',\n        value: 'phone'\n      }, {\n        text: 'Endereço Residencial',\n        value: 'residential_address',\n        sortable: false\n      }, {\n        text: 'Endereço Comercial',\n        value: 'commercial_address',\n        sortable: false\n      }, {\n        text: 'Ações',\n        value: 'actions',\n        sortable: false\n      }]\n    };\n  },\n  methods: {\n    fetchResults() {\n      axios.get('/registrations', {\n        params: this.search\n      }).then(response => {\n        this.records = response.data.data;\n        this.errorMessage = '';\n      }).catch(error => {\n        this.errorMessage = 'Erro ao buscar registros: ' + (error.response ? error.response.data.message : error.message);\n      });\n    },\n    formatAddress(addresses, type) {\n      const address = addresses.find(addr => addr.type === type);\n      return address ? `${address.street}, ${address.number}${address.complement ? ', ' + address.complement : ''} - ${address.neighborhood}, ${address.city} - ${address.state}` : 'N/A';\n    },\n    openDetails(item) {\n      this.$router.push({\n        name: 'DetailPage',\n        params: {\n          id: item.id\n        }\n      });\n    },\n    navigateToAddAddress(item) {\n      this.$router.push({\n        name: 'AddAddress',\n        params: {\n          registrationId: item.id\n        }\n      });\n    }\n  },\n  mounted() {\n    this.fetchResults();\n  }\n};","map":{"version":3,"names":["axios","data","search","cpf","name","phone","records","errorMessage","headers","text","value","sortable","methods","fetchResults","get","params","then","response","catch","error","message","formatAddress","addresses","type","address","find","addr","street","number","complement","neighborhood","city","state","openDetails","item","$router","push","id","navigateToAddAddress","registrationId","mounted"],"sources":["C:\\Users\\Davi\\PRODEMGE1\\frontend\\src\\components\\SearchPage.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col cols=\"12\" md=\"3\">\r\n        <v-text-field v-model=\"search.cpf\" label=\"CPF\" outlined dense></v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"3\">\r\n        <v-text-field v-model=\"search.name\" label=\"Nome\" outlined dense></v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"3\">\r\n        <v-text-field v-model=\"search.phone\" label=\"Telefone\" outlined dense></v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"3\" class=\"d-flex align-center justify-space-between\">\r\n        <v-btn color=\"primary\" class=\"mr-2\" @click=\"fetchResults\">Buscar</v-btn>\r\n        <v-btn color=\"secondary\" @click=\"$router.push('/create')\">+ Adicionar Registro</v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <v-data-table\r\n          :headers=\"headers\"\r\n          :items=\"records\"\r\n          item-key=\"id\"\r\n          class=\"elevation-1\"\r\n          :footer-props=\"{\r\n            'items-per-page-options': [5, 10, 15, -1],\r\n            'items-per-page-text': 'Itens por página',\r\n          }\"\r\n        >\r\n          <template v-slot:item=\"{ item }\">\r\n            <tr @click=\"openDetails(item)\">\r\n              <td>{{ item.cpf }}</td>\r\n              <td>{{ item.name }}</td>\r\n              <td>{{ item.phone }}</td>\r\n              <td>{{ formatAddress(item.addresses, 'residential') }}</td>\r\n              <td>{{ formatAddress(item.addresses, 'commercial') }}</td>\r\n              <td>\r\n                <v-btn color=\"info\" @click.stop=\"openDetails(item)\">Detalhes</v-btn>\r\n                <v-btn color=\"success\" @click.stop=\"navigateToAddAddress(item)\">Adicionar Endereço</v-btn>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </v-data-table>\r\n      </v-col>\r\n    </v-row>\r\n    <v-alert v-if=\"errorMessage\" type=\"error\">{{ errorMessage }}</v-alert>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      search: {\r\n        cpf: '',\r\n        name: '',\r\n        phone: ''\r\n      },\r\n      records: [],\r\n      errorMessage: '',\r\n      headers: [\r\n        { text: 'CPF', value: 'cpf' },\r\n        { text: 'Nome', value: 'name' },\r\n        { text: 'Telefone', value: 'phone' },\r\n        { text: 'Endereço Residencial', value: 'residential_address', sortable: false },\r\n        { text: 'Endereço Comercial', value: 'commercial_address', sortable: false },\r\n        { text: 'Ações', value: 'actions', sortable: false },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchResults() {\r\n      axios.get('/registrations', { params: this.search })\r\n        .then(response => {\r\n          this.records = response.data.data;\r\n          this.errorMessage = '';\r\n        })\r\n        .catch(error => {\r\n          this.errorMessage = 'Erro ao buscar registros: ' + (error.response ? error.response.data.message : error.message);\r\n        });\r\n    },\r\n    formatAddress(addresses, type) {\r\n      const address = addresses.find(addr => addr.type === type);\r\n      return address ? `${address.street}, ${address.number}${address.complement ? ', ' + address.complement : ''} - ${address.neighborhood}, ${address.city} - ${address.state}` : 'N/A';\r\n    },\r\n    openDetails(item) {\r\n      this.$router.push({ name: 'DetailPage', params: { id: item.id } });\r\n    },\r\n    navigateToAddAddress(item) {\r\n  this.$router.push({ name: 'AddAddress', params: { registrationId: item.id } });\r\n}\r\n  },\r\n  mounted() {\r\n    this.fetchResults();\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAkDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE;QACNC,GAAG,EAAE,EAAE;QACPC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE;MACT,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE,CACP;QAAEC,IAAI,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAM,CAAC,EAC7B;QAAED,IAAI,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC/B;QAAED,IAAI,EAAE,UAAU;QAAEC,KAAK,EAAE;MAAQ,CAAC,EACpC;QAAED,IAAI,EAAE,sBAAsB;QAAEC,KAAK,EAAE,qBAAqB;QAAEC,QAAQ,EAAE;MAAM,CAAC,EAC/E;QAAEF,IAAI,EAAE,oBAAoB;QAAEC,KAAK,EAAE,oBAAoB;QAAEC,QAAQ,EAAE;MAAM,CAAC,EAC5E;QAAEF,IAAI,EAAE,OAAO;QAAEC,KAAK,EAAE,SAAS;QAAEC,QAAQ,EAAE;MAAM,CAAC;IAExD,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACbb,KAAK,CAACc,GAAG,CAAC,gBAAgB,EAAE;QAAEC,MAAM,EAAE,IAAI,CAACb;MAAO,CAAC,EAChDc,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACX,OAAM,GAAIW,QAAQ,CAAChB,IAAI,CAACA,IAAI;QACjC,IAAI,CAACM,YAAW,GAAI,EAAE;MACxB,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;QACd,IAAI,CAACZ,YAAW,GAAI,4BAA2B,IAAKY,KAAK,CAACF,QAAO,GAAIE,KAAK,CAACF,QAAQ,CAAChB,IAAI,CAACmB,OAAM,GAAID,KAAK,CAACC,OAAO,CAAC;MACnH,CAAC,CAAC;IACN,CAAC;IACDC,aAAaA,CAACC,SAAS,EAAEC,IAAI,EAAE;MAC7B,MAAMC,OAAM,GAAIF,SAAS,CAACG,IAAI,CAACC,IAAG,IAAKA,IAAI,CAACH,IAAG,KAAMA,IAAI,CAAC;MAC1D,OAAOC,OAAM,GAAI,GAAGA,OAAO,CAACG,MAAM,KAAKH,OAAO,CAACI,MAAM,GAAGJ,OAAO,CAACK,UAAS,GAAI,IAAG,GAAIL,OAAO,CAACK,UAAS,GAAI,EAAE,MAAML,OAAO,CAACM,YAAY,KAAKN,OAAO,CAACO,IAAI,MAAMP,OAAO,CAACQ,KAAK,EAAC,GAAI,KAAK;IACrL,CAAC;IACDC,WAAWA,CAACC,IAAI,EAAE;MAChB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEhC,IAAI,EAAE,YAAY;QAAEW,MAAM,EAAE;UAAEsB,EAAE,EAAEH,IAAI,CAACG;QAAG;MAAE,CAAC,CAAC;IACpE,CAAC;IACDC,oBAAoBA,CAACJ,IAAI,EAAE;MAC7B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEhC,IAAI,EAAE,YAAY;QAAEW,MAAM,EAAE;UAAEwB,cAAc,EAAEL,IAAI,CAACG;QAAG;MAAE,CAAC,CAAC;IAChF;EACE,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC3B,YAAY,CAAC,CAAC;EACrB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
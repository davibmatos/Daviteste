{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useVuelidate } from '@vuelidate/core';\nimport { VueTheMask } from 'vue-the-mask';\nimport axios from 'axios';\nexport default {\n  name: 'CreateRecord',\n  directives: {\n    mask: VueTheMask\n  },\n  data() {\n    return {\n      valid: true,\n      record: {\n        name: '',\n        social_name: '',\n        cpf: '',\n        father_name: '',\n        mother_name: '',\n        phone: '',\n        email: ''\n      },\n      errorMessage: '',\n      rules: {\n        required: value => !!value || 'Campo obrigatório.',\n        email: value => /.+@.+\\..+/.test(value) || 'E-mail deve ser válido.',\n        cpf: value => /^\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}$/.test(value) || 'CPF deve ser válido.',\n        phone: value => /^\\(\\d{2}\\) \\d{4,5}-\\d{4}$/.test(value) || 'Telefone deve ser válido.'\n      }\n    };\n  },\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  methods: {\n    submitData() {\n      axios.post('/registrations', this.record).then(response => {\n        const registrationId = response.data.data.id; // Pegando o ID do registro da resposta\n        this.$router.push({\n          name: 'AddAddress',\n          params: {\n            registration_id: registrationId\n          }\n        });\n      }).catch(error => {\n        if (error.response) {\n          this.errorMessage = error.response.data.message || 'Erro ao submeter os dados.';\n        } else if (error.request) {\n          this.errorMessage = 'Nenhuma resposta recebida do servidor.';\n        } else {\n          this.errorMessage = 'Erro ao configurar a requisição: ' + error.message;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["useVuelidate","VueTheMask","axios","name","directives","mask","data","valid","record","social_name","cpf","father_name","mother_name","phone","email","errorMessage","rules","required","value","test","setup","v$","methods","submitData","post","then","response","registrationId","id","$router","push","params","registration_id","catch","error","message","request"],"sources":["C:\\Users\\Davi\\PRODEMGE1\\frontend\\src\\components\\CreateRecord.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.name\"\r\n            label=\"Nome\"\r\n            :rules=\"[rules.required]\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.social_name\"\r\n            label=\"Nome Social\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.cpf\"\r\n            label=\"CPF\"\r\n            :rules=\"[rules.required, rules.cpf]\"\r\n            outlined\r\n            dense\r\n            v-mask=\"'###.###.###-##'\"\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.phone\"\r\n            label=\"Telefone\"\r\n            :rules=\"[rules.required, rules.phone]\"\r\n            outlined\r\n            dense\r\n            v-mask=\"'(##) #####-####'\"\r\n          ></v-text-field>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.father_name\"\r\n            label=\"Nome do Pai\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.mother_name\"\r\n            label=\"Nome da Mãe\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-text-field\r\n            v-model=\"record.email\"\r\n            label=\"Email\"\r\n            :rules=\"[rules.required, rules.email]\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\" class=\"d-flex align-end justify-end\">\r\n          <v-btn :disabled=\"!valid\" color=\"success\" @click=\"submitData\">Salvar</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <v-alert v-if=\"errorMessage\" type=\"error\">{{ errorMessage }}</v-alert>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { useVuelidate } from '@vuelidate/core';\r\nimport { VueTheMask } from 'vue-the-mask';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'CreateRecord',\r\n  directives: {\r\n    mask: VueTheMask\r\n  },\r\n  data() {\r\n    return {\r\n      valid: true,\r\n      record: {\r\n        name: '',\r\n        social_name: '',\r\n        cpf: '',\r\n        father_name: '',\r\n        mother_name: '',\r\n        phone: '',\r\n        email: ''\r\n      },\r\n      errorMessage: '',\r\n      rules: {\r\n        required: value => !!value || 'Campo obrigatório.',\r\n        email: value => /.+@.+\\..+/.test(value) || 'E-mail deve ser válido.',\r\n        cpf: value => /^\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}$/.test(value) || 'CPF deve ser válido.',\r\n        phone: value => /^\\(\\d{2}\\) \\d{4,5}-\\d{4}$/.test(value) || 'Telefone deve ser válido.',\r\n      }\r\n    };\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  methods: {\r\n    submitData() {\r\n      axios.post('/registrations', this.record)\r\n        .then(response => {\r\n          const registrationId = response.data.data.id; // Pegando o ID do registro da resposta\r\n          this.$router.push({ name: 'AddAddress', params: { registration_id: registrationId } });\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            this.errorMessage = error.response.data.message || 'Erro ao submeter os dados.';\r\n          } else if (error.request) {\r\n            this.errorMessage = 'Nenhuma resposta recebida do servidor.';\r\n          } else {\r\n            this.errorMessage = 'Erro ao configurar a requisição: ' + error.message;\r\n          }\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Estilos adicionais, se necessário */\r\n</style>\r\n"],"mappings":";AAkFA,SAASA,YAAW,QAAS,iBAAiB;AAC9C,SAASC,UAAS,QAAS,cAAc;AACzC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE;IACVC,IAAI,EAAEJ;EACR,CAAC;EACDK,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE;QACNL,IAAI,EAAE,EAAE;QACRM,WAAW,EAAE,EAAE;QACfC,GAAG,EAAE,EAAE;QACPC,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE;MACT,CAAC;MACDC,YAAY,EAAE,EAAE;MAChBC,KAAK,EAAE;QACLC,QAAQ,EAAEC,KAAI,IAAK,CAAC,CAACA,KAAI,IAAK,oBAAoB;QAClDJ,KAAK,EAAEI,KAAI,IAAK,WAAW,CAACC,IAAI,CAACD,KAAK,KAAK,yBAAyB;QACpER,GAAG,EAAEQ,KAAI,IAAK,6BAA6B,CAACC,IAAI,CAACD,KAAK,KAAK,sBAAsB;QACjFL,KAAK,EAAEK,KAAI,IAAK,2BAA2B,CAACC,IAAI,CAACD,KAAK,KAAK;MAC7D;IACF,CAAC;EACH,CAAC;EACDE,KAAKA,CAAA,EAAG;IACN,OAAO;MAAEC,EAAE,EAAErB,YAAY,CAAC;IAAE,CAAC;EAC/B,CAAC;EACDsB,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACXrB,KAAK,CAACsB,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAChB,MAAM,EACrCiB,IAAI,CAACC,QAAO,IAAK;QAChB,MAAMC,cAAa,GAAID,QAAQ,CAACpB,IAAI,CAACA,IAAI,CAACsB,EAAE,EAAE;QAC9C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAAE3B,IAAI,EAAE,YAAY;UAAE4B,MAAM,EAAE;YAAEC,eAAe,EAAEL;UAAe;QAAE,CAAC,CAAC;MACxF,CAAC,EACAM,KAAK,CAACC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACR,QAAQ,EAAE;UAClB,IAAI,CAACX,YAAW,GAAImB,KAAK,CAACR,QAAQ,CAACpB,IAAI,CAAC6B,OAAM,IAAK,4BAA4B;QACjF,OAAO,IAAID,KAAK,CAACE,OAAO,EAAE;UACxB,IAAI,CAACrB,YAAW,GAAI,wCAAwC;QAC9D,OAAO;UACL,IAAI,CAACA,YAAW,GAAI,mCAAkC,GAAImB,KAAK,CAACC,OAAO;QACzE;MACF,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport vuetify from './plugins/vuetify';\nimport VueTheMask from 'vue-the-mask';\nimport axios from 'axios';\n\n// Configurações iniciais do Axios\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.withCredentials = true; // Importante para o envio de cookies\n\n// Obtendo o CSRF token do backend\naxios.get('/csrf-cookie').then(response => {\n  console.log('CSRF token has been set.');\n  console.log('Received CSRF token:', response.data.csrf_token); // Log do token CSRF recebido\n\n  // Configurar o token CSRF para todas as requisições após obtê-lo\n  axios.interceptors.request.use(config => {\n    const cookieString = document.cookie;\n    const tokenCookie = cookieString.split('; ').find(row => row.startsWith('XSRF-TOKEN='));\n    if (tokenCookie) {\n      const token = tokenCookie.split('=')[1];\n      config.headers['X-CSRF-TOKEN'] = decodeURIComponent(token);\n      console.log('CSRF token dynamically added to request:', token);\n    } else {\n      console.error('XSRF-TOKEN cookie not found');\n    }\n    return config;\n  });\n\n  // Criar e montar a aplicação Vue\n  const app = createApp(App);\n  app.use(router);\n  app.use(vuetify);\n  app.use(VueTheMask);\n  app.mount('#app');\n}).catch(error => {\n  console.error('Error fetching CSRF token:', error);\n});","map":{"version":3,"names":["createApp","App","router","vuetify","VueTheMask","axios","defaults","headers","common","post","baseURL","withCredentials","get","then","response","console","log","data","csrf_token","interceptors","request","use","config","cookieString","document","cookie","tokenCookie","split","find","row","startsWith","token","decodeURIComponent","error","app","mount","catch"],"sources":["C:/Users/Davi/PRODEMGE1/frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport vuetify from './plugins/vuetify';\r\nimport VueTheMask from 'vue-the-mask';\r\nimport axios from 'axios';\r\n\r\n// Configurações iniciais do Axios\r\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\r\naxios.defaults.headers.post['Content-Type'] = 'application/json';\r\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\r\naxios.defaults.withCredentials = true;  // Importante para o envio de cookies\r\n\r\n// Obtendo o CSRF token do backend\r\naxios.get('/csrf-cookie').then(response => {\r\n    console.log('CSRF token has been set.');\r\n    console.log('Received CSRF token:', response.data.csrf_token);  // Log do token CSRF recebido\r\n\r\n    // Configurar o token CSRF para todas as requisições após obtê-lo\r\n    axios.interceptors.request.use(config => {\r\n        const cookieString = document.cookie;\r\n        const tokenCookie = cookieString.split('; ').find(row => row.startsWith('XSRF-TOKEN='));\r\n        if (tokenCookie) {\r\n            const token = tokenCookie.split('=')[1];\r\n            config.headers['X-CSRF-TOKEN'] = decodeURIComponent(token);\r\n            console.log('CSRF token dynamically added to request:', token);\r\n        } else {\r\n            console.error('XSRF-TOKEN cookie not found');\r\n        }\r\n        return config;\r\n    });\r\n\r\n    // Criar e montar a aplicação Vue\r\n    const app = createApp(App);\r\n    app.use(router);\r\n    app.use(vuetify);\r\n    app.use(VueTheMask);\r\n    app.mount('#app');\r\n}).catch(error => {\r\n    console.error('Error fetching CSRF token:', error);\r\n});\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,OAAO,MAAM,mBAAmB;AACvC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACAA,KAAK,CAACC,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,kBAAkB,CAAC,GAAG,gBAAgB;AACpEH,KAAK,CAACC,QAAQ,CAACC,OAAO,CAACE,IAAI,CAAC,cAAc,CAAC,GAAG,kBAAkB;AAChEJ,KAAK,CAACC,QAAQ,CAACI,OAAO,GAAG,uBAAuB;AAChDL,KAAK,CAACC,QAAQ,CAACK,eAAe,GAAG,IAAI,CAAC,CAAE;;AAExC;AACAN,KAAK,CAACO,GAAG,CAAC,cAAc,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;EACvCC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;EACvCD,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,QAAQ,CAACG,IAAI,CAACC,UAAU,CAAC,CAAC,CAAE;;EAEhE;EACAb,KAAK,CAACc,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;IACrC,MAAMC,YAAY,GAAGC,QAAQ,CAACC,MAAM;IACpC,MAAMC,WAAW,GAAGH,YAAY,CAACI,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,UAAU,CAAC,aAAa,CAAC,CAAC;IACvF,IAAIJ,WAAW,EAAE;MACb,MAAMK,KAAK,GAAGL,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACvCL,MAAM,CAACf,OAAO,CAAC,cAAc,CAAC,GAAGyB,kBAAkB,CAACD,KAAK,CAAC;MAC1DhB,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAEe,KAAK,CAAC;IAClE,CAAC,MAAM;MACHhB,OAAO,CAACkB,KAAK,CAAC,6BAA6B,CAAC;IAChD;IACA,OAAOX,MAAM;EACjB,CAAC,CAAC;;EAEF;EACA,MAAMY,GAAG,GAAGlC,SAAS,CAACC,GAAG,CAAC;EAC1BiC,GAAG,CAACb,GAAG,CAACnB,MAAM,CAAC;EACfgC,GAAG,CAACb,GAAG,CAAClB,OAAO,CAAC;EAChB+B,GAAG,CAACb,GAAG,CAACjB,UAAU,CAAC;EACnB8B,GAAG,CAACC,KAAK,CAAC,MAAM,CAAC;AACrB,CAAC,CAAC,CAACC,KAAK,CAACH,KAAK,IAAI;EACdlB,OAAO,CAACkB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;AACtD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}